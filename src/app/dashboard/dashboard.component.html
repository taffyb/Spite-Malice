
<p>
<div class="list">
	<span *ngIf="!gameService.puuid1 || !gameService.puuid2">New</span> <a
		*ngIf="gameService.puuid1 && gameService.puuid2"
		routerLink="/play-area/new">New</a>
	<p>
		Game Name <input
			name="gamename"
			type="text"
			[(ngModel)]="gameService.name" /><br> Player 1 <select
			name="player1"
			[(ngModel)]="gameService.puuid1">
			<option
				*ngFor="let player of playerService.getPlayers()"
				[value]="player.uuid">{{player.name}}</option>
		</select><br> Player 2 <select
			name="player2"
			[(ngModel)]="gameService.puuid2">
			<option
				*ngFor="let player of playerService.getPlayers()"
				[value]="player.uuid">{{player.name}}</option>
		</select>
	<p>
		<!--   Saved Games
  <ul>
  	<li class="list-item" *ngFor="let g of games" >
  		<span *ngIf="!g.isEditable">
	  		<span (click)="setGame(g.uuid)">{{g.name}}</span>
	  		<a routerLink="/play-area/{{g.uuid}}" (click)="g.inPlay=true">[play]</a>
	  		<span (click)="g.isEditable=true">[edit]</span>
  		</span>
  		<span *ngIf="g.isEditable">
  			<input name="g.uuid" [(ngModel)]="g.name" (focusout)="g.isEditable=false">
  		</span>
  	</li>
  </ul>
   -->
</div>

<div id="detail">
	<h1>Spite & Malice</h1>
	<p>The object of the game is to be the first get rid of all the
		cards in your pile by playing them to the centre stacks.</p>
	<p>Only the top card of your pay-off pile is available for play at
		any time.</p>
	<p>The first card in each centre stack must be an ace, then 2, 3,
		and so on in sequence up to king, each card played being one higher
		than the card it covers. There cannot be more than four centre stacks
		at one time.</p>
	<p>The player stacks can contain cards in any order, and when
		playing to a side stack you may put your card on whichever stack you
		choose. The only limitation is that you cannot have more than four
		side stacks.
	<p>To play; the active player (underlined and red font) must select
		the card they wish to move (it becomes highlighted blue), then select
		the target location (possible locations will highlight yellow when
		hovered).</p>
	<p>The player who has the lowest card showing on their pile (player
		with lowest card in hand is used as a tie breaker) plays first, and
		thereafter the players take alternate turns.</p>
	<p>A turn consists of multiple moves and 
	You may then make a series of moves, the possible moves being: To play
	an ace to an empty centre stack, or to play to a centre stack the next
	higher card than the card showing (for example a six on a five, or a
	jack on a ten, irrespective of suit). The card played may come from
	your hand, from the top of one of your side stacks, or from the top of
	your pay-off pile, and is played face-up on top of the centre stack. To
	play a card from your hand face-up on top of one of your stacks. This
	ends your turn. A player cannot have more than four separate side
	stacks at one time; if you have no empty side stacks then you must
	discard onto a side stack that already contains cards, making the card
	you cover temporarily unavailable for play. You may play as many cards
	to the centre stacks as you want, but as soon as you play a card to a
	stack your turn ends, and your opponent may play. Note that you can
	never play a pay-off card to a side stack, or to move a card from one
	side stack to another, or move a card from a centre stack to anywhere.

	Kings are wild and can represent any card. You can discard a king to a
	side stack without committing yourself as to what it represents. When a
	king is placed on a centre stack it represents the next higher value
	than the card it covers. If during your turn you manage to play all
	five cards from your hand, without playing to a side stack, you
	immediately draw five more cards from the stock and continue playing.

	If you complete a centre stack by playing a queen (or a king
	representing a queen) your opponent shuffles the completed stack into
	the stock, creating a space for a new centre stack, and you can
	continue playing.
	<!-- 
Game: {{game.name}}<br>
  
  Game Stacks 
  <table>
  	<tr>
	  	<td  *ngFor="let s of game.centreStacks; let sIdx=index">
	  		{{toFaceNumber(game.centreStacks[sIdx][game.centreStacks[sIdx].length-1])}}
	  	</td>
	</tr>
  </table>
  
  <div *ngFor="let p of game.players">
  	{{p.name}}<br>
  	<table>
  		<tr >
  			<td *ngFor="let s of p.cards;let sIdx=index">
  				<span *ngIf="sIdx==PlayerPositions.PILE">{{toFaceNumber(s[s.length-1])}}</span>
  				<span *ngIf="sIdx>=PlayerPositions.HAND_1 && PlayerPositions.HAND_5>=sIdx">{{toFaceNumber(s)}}</span>
  				<span *ngIf="sIdx>=PlayerPositions.STACK_1 && PlayerPositions.STACK_4>=sIdx">
  					{{toFaceNumber(s[1])}}
  				</span>
  			</td>
  		</tr>
  		<tr *ngFor="let r of p.maxStack();let rowIdx=index"	>
  			<td colspan="6">
  			<td *ngFor="let s of playerStacks;let colIdx=index">
  				<span *ngIf="(p.cards[PlayerPositions.STACK_1+colIdx].length>=3+rowIdx)">
  					{{toFaceNumber(p.cards[PlayerPositions.STACK_1+colIdx][2+rowIdx])}}
  				</span>
  				<span *ngIf="!(p.cards[PlayerPositions.STACK_1+colIdx].length>=3+rowIdx)">
  					&nbsp;
  				</span>
  			</td>
  		</tr>
  	</table>
  	<p>
  	<p>
  </div>
   -->
</div>